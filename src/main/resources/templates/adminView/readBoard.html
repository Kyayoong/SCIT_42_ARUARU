<!DOCTYPE html>
<html lang="ko" xmlns:th="http://thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>

<link rel="stylesheet" th:href="@{/css/mypageViewCss/mypageCss.css}">
<link rel="stylesheet"
	th:href="@{/css/kakaoMapCss/kakaoMapContents.css}">

<!-- jQuery -->
<script th:src="@{/js/jquery-3.6.0.min.js}"></script>
<script
	src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="text/javascript">

	//별 이미지 클릭시
	$(document).on('click', '#point1', drawStars);
	$(document).on('click', '#point2', drawStars);
	$(document).on('click', '#point3', drawStars);
	$(document).on('click', '#point4', drawStars);
	$(document).on('click', '#point5', drawStars);
	
	//사진 등록 버튼
	$(document).on('click', '#btn-upload', function(e){
		e.preventDefault();
		$('#btnAtt').click();
	});
	
	//등록, 취소 버튼	
	$(document).on('click', '#submitButton', function(){
		alert('등록버튼');
		//등록 버튼 실행 시, 모든 정보를 하나의 객체로 만들어 저장할 예정
		
		
		
		
		
	});
	$(document).on('click', '#cancelButton', function(){
		window.opener.listRefresh();
		window.close();
	})
	
	
	//별 채워주고 html상에 표기하는 기능
	let path = '[[@{/images/}]]';
	function drawStars(){
		let starImg = '';
		let dataPoint = parseInt($(this).attr('data-point'));
		let dataActivated = parseInt($(this).attr('data-activated'));
		
		switch(dataActivated){
		case 0 : 
			for(let i = 1; i <= 5; i++){
				if( i < dataPoint ){
					starImg += '<img id="point' + i + '" class="p-1" src="' +
								path + 'star_full.png" data-point="' + i + 
								'" data-activated="0" style="width:2.8rem;" alt="별표시" onclick="drawStars">';
				} else if(i == dataPoint){
					starImg += '<img id="point' + i + '" class="p-1" src="' +
								path + 'star_full.png" data-point="' + i + 
								'" data-activated="1" style="width:2.8rem;" alt="별표시" onclick="drawStars">';
				}
					else {
					starImg += '<img id="point' + i + '" class="p-1" src="' +
								path + 'star_none.png" data-point="' + i + 
								'" data-activated="0" style="width:2.8rem;" alt="별표시" onclick="drawStars">';
				}
			}
			$('#starPoint').html(starImg);
			break;
		
		case 1 : 
			for(let i = 1; i <= 5; i++){
				starImg += '<img id="point' + i + '" class="p-1" src="' +
							path + 'star_none.png" data-point="' + i + '" data-activated="0" style="width:2.8rem;" alt="별표시" onclick="drawStars">';
			}
			$('#starPoint').html(starImg);
			break;
		}
	}
</script>

<title>리뷰 입력 하기</title>
</head>
<body>
	<!-- 1. 글제목
		 2. 작성 일시 -->
	<div class="border shadow rounded-sm m-1">
		<div class="p-1" style="background: #afc9f6; font-family: Jua;">
			<!-- 1. 글제목 -->
			<div class="row col-sm-12">
				<h1 class="col-sm-12 h1 m-3 d-flex justify-content-center" th:text="${board.board_title}">글제목</h1>
			</div>
			<div class="row col-sm-12">
				<!-- 2. 작성일시 -->
				<span class="col-sm-6 d-flex justify-content-left" th:text="|작성일시 : ${board.registration_date}|">작성일 : 01/01/01</span>
				<!-- 3. 글쓴이 -->
				<span class="col-sm-6" style="text-align: right;" th:text="|작성자 : ${board.member_id}|">글쓴이 : 홍길동</span>
			</div>
		</div>
		<!-- 4. 글 내용 -->
		<div class="row mx-auto m-3 p-4 d-flex justify-content-center">
			<div class="col-sm-12">
				<span style="min-height:100px;" th:text="${board.board_contents}">글 내용</span>
			</div>
		</div>
		<!-- 5. 텍스트 -->
		<div class="d-flex justify-content-center m-3">
			<textarea rows="10" cols="90" style="resize:none;" placeholder="내용을 입력하세요."></textarea>
		</div>
		
		
		<!-- 7. 버튼 -->
		<div class="d-flex justify-content-center m-3">
			<input type="button" style="font-family: IBM Plex Sans KR;"
			class="btn btn-primary m-1" id="submitButton" value="등록">
			<input type="button" style="font-family: IBM Plex Sans KR;"
			class="btn btn-secondary m-1" id="cancelButton" value="취소">
		</div>
	</div>
		
					
</body>
</html>