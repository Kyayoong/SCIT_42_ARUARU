<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
<meta charset="UTF-8">
<script th:src="@{/js/jquery-3.6.0.min.js}"></script>
<link th:href="@{/css/join_as_userCss.css}" rel="stylesheet">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<script>
var emailCheck = RegExp(/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/);
var phoneNumberCheck = RegExp(/^\d{3}-\d{3,4}-\d{4}$/);
var birthdayCheck = RegExp(/^(19[0-9][0-9]|20\d{2})(0[0-9]|1[0-2])(0[1-9]|[1-2][0-9]|3[0-1])$/);

$(document).ready(function() {
	$('#member_id').keyup(function() {
		let member_id = $(this).val();
		
		if (member_id.length < 3 || member_id.length > 10) {
			$('#msg1').html('ID는 3~10자로 입력하세요.').css("color","red");
			return;
		} else {$('#msg1').html('')}
	});
		
	$('#member_pw').keyup(function() {
		let member_pw = $(this).val();
		
		if (member_pw.length < 3 || member_pw.length > 10) {
			$('#msg2').html('비밀번호는 3~10자로 입력하세요.').css("color","red");
			return;
		}else {$('#msg2').html('')}
});
	
	$('#member_pw2').keyup(function() {
			let member_pw = $(this).val();
			let member_pw2 = $(this).val();
			
			if (member_pw != member_pw2) {
				$('#msg3').html('비밀번호가 일치하지 않습니다.').css("color","red");
				return;
			}else {$('#msg3').html('')}
	});
			
	$('#member_name').keyup(function() {
			let member_name = $(this).val();
			
			if (member_name == '') {
				$('#msg4').html('이름을 입력하세요.').css("color","red");
				member_name.focus();
				member_name.select();
				return;
			}else {$('#msg4').html('')}
			});
	
	$('#member_birth').keyup(function(){
		if(birthdayCheck.test($('#member_birth').val())){
			$('#msg5').html('');	
		}else {
			$('#msg5').html('올바른 생년월일 형식을 입력해주세요.').css("color","red");
			}
	});
	
	$('#member_email').keyup(function(){
		if(emailCheck.test($('#member_email').val())){
			$('#msg8').html('');	
		}else {
			$('#msg8').html('올바른 이메일 형식을 입력해주세요.').css("color","red");
			}
	});
	
	$('#member_phone').keyup(function(){
		if(phoneNumberCheck.test($('#member_phone').val())){
			$('#msg9').html('');	
		}else {
			$('#msg9').html('올바른 전화번호 형식을 입력해주세요.').css("color","red");
			}
	});
	
});
</script>
<title>회원가입</title>
</head>
<body>
	<!-- navbar 부분 -->
	<nav id="navbar" class="navbar navbar-expand-sm bg-light">
		<ul class="navbar-nav">
			<li class="nav-item"><a class="nav-link" th:href="@{/}">HOME</a>
		</ul>
		<ul class="navbar-nav ml-auto">
			<li class="nav-item"><a class="nav-link" href="#">ABOUT US</a></li>
			<li class="nav-item"><a class="nav-link"
				th:href="@{/user/login}">LOGIN</a></li>
			<li class="nav-item"><a class="nav-link"
				th:href="@{/user/joinselect}">JOIN</a></li>
		</ul>
	</nav>

	<!-- 회원 등록 폼 -->
	<div id="registuserform" style="margin-bottom: 10vh;">
		<div id="rrmarkarea">
			<a th:href="@{/}"><img id="rrmark" th:src="@{/images/rrmark.png}"></a>
			<a th:href="@{/}"><img id="rrjapanesemark"
				th:src="@{/images/rrjapanesemark.png}"></a>
			<div id="inform-user-register">
				<h6 style="font-family: IBM Plex Sans KR;">회원 등록 화면입니다.</h6>
			</div>
		</div>
		<!-- 회원 등록 table -->
		<div id="registtable">
			<form th:action="insert_user" method="post">
				<table>
					<tr>
						<td><label for="member_id"
							style="font-size : 20px; font-family: IBM Plex Sans KR;">아이디를 입력해주세요</label><br>
							<input class="form-control" type="text" id="member_id"
							name="member_id" style="width: 500px;" placeholder="아이디"><span id="msg1"></span></td>
					</tr>
					<tr>
						<td><label for="member_pw"
							style="font-family: IBM Plex Sans KR;">패스워드를 입력해주세요</label><br>
							<input class="form-control" type="password" id="member_pw"
							name="member_pw" style="width: 500px;" placeholder="패스워드"><span id="msg2"></span></td>
					</tr>
					<tr>
						<td><label for="member_pw2"
							style="font-family: IBM Plex Sans KR;">패스워드를 재확인해주세요</label><br>
							<input class="form-control" type="password" id="member_pw2"
							style="width: 500px;" placeholder="패스워드 재확인"><span id="msg3"></span></td>
					</tr>
					<tr>
						<td><label for="member_name"
							style="font-family: IBM Plex Sans KR;">성명</label><br> <input
							class="form-control" type="text" id="member_name"
							name="member_name" style="width: 500px;" placeholder="이름을 입력해 주세요"><span
							id="msg4"></span></td>
					</tr>
					<tr>
						<td><label for="member_birth"
							style="font-family: IBM Plex Sans KR;">생년월일</label><br> <input
							class="form-control" type="text" id="member_birth"
							name="member_birth" style="width: 500px;"
							placeholder="생년월일을 입력해 주세요('YYYYMMDD')"><span
							id="msg5"></span></td>
					</tr>
					<tr>
						<td><label for="member_gender"
							style="font-family: IBM Plex Sans KR;">성별</label><br> <label
							for="member-gender-male">남</label> <input type="radio"
							id="member-gender-male" name="member_gender" value="male">
							<label for="member-gender-female">여</label> <input type="radio"
							id="member-gender-female" name="member_gender" value="female">
							<span id="msg6"></span>
						</td>
					</tr>
					<tr>
						<td><label for="member_address"
							style="font-family: IBM Plex Sans KR;">주소</label><br> <input
							class="form-control" type="text" id="member_address"
							name="member_address" style="width: 500px;"
							placeholder="주소를 입력해 주세요"><span
							id="msg7"></span></td>
					</tr>
					<tr>
						<td><label for="member_email"
							style="font-family: IBM Plex Sans KR;">이메일</label><br> <input
							class="form-control" type="email" id="member_email"
							name="member_email" style="width: 500px;"
							placeholder="이메일을 입력해 주세요(ex)email@email.com)"><span
							id="msg8"></span></td>
					</tr>
					<tr>
						<td><label for="member_phone"
							style="font-family: IBM Plex Sans KR;">휴대전화</label><br> <input
							class="form-control" type="text" id="member_phone"
							name="member_phone" style="width: 500px;"
							placeholder="전화번호를 입력해 주세요('ex)010-XXXX-XXXX')"><span
							id="msg9"></span></td>
					</tr>
					<tr>
						<td><label for="member_nickname"
							style="font-family: IBM Plex Sans KR;">닉네임</label><br> <input
							class="form-control" type="text" id="member_nickname"
							name="member_nickname" style="width: 500px;"
							placeholder="닉네임을 입력해 주세요"><span
							id="msg10"></span></td>
					</tr>
					<tr>
						<td><label for="file" style="font-family: IBM Plex Sans KR;">프로필
								사진 </label><br> <input type="file" name="upload"><span
							id="msg11"></span></td>
					</tr>

					<tr>
						<td style="width: 600px;"><label for="tag1">태그</label><br>
							<div class="btn-group-toggle" data-toggle="buttons">
								<label class="btn btn-outline-secondary" for="tag1"><input
									name="member_tags" value="한식" type="checkbox" id="tag1">한식</label>
							</div>
							<div id="idtag2" class="btn-group-toggle" data-toggle="buttons">
								<label class="btn btn-outline-secondary" for="tag2"><input
									name="member_tags" value="양식" type="checkbox" id="tag2">양식</label>
							</div>
							<div id="idtag3" class="btn-group-toggle" data-toggle="buttons">
								<label class="btn btn-outline-secondary" for="tag3"><input
									name="member_tags" value="일식" type="checkbox" id="tag3">일식</label>
							</div>
							<div id="idtag4" class="btn-group-toggle" data-toggle="buttons">
								<label class="btn btn-outline-secondary" for="tag4"><input
									name="member_tags" value="중식" type="checkbox" id="tag4">중식</label>
							</div>
							<div id="idtag5" class="btn-group-toggle" data-toggle="buttons">
								<label class="btn btn-outline-secondary" for="tag5"><input
									name="member_tags" value="동남아요리" type="checkbox" id="tag5">동남아요리</label>
							</div>
							<div id="idtag6" class="btn-group-toggle" data-toggle="buttons">
								<label class="btn btn-outline-secondary" for="tag6"><input
									name="member_tags" value="뷔페" type="checkbox" id="tag6">뷔페</label>
							</div><span
							id="msg12"></span></td>
					</tr>
					<tr>

					</tr>
				</table>
				<br>
				<!-- submit 버튼 영역 -->
				<div id="registerbuttondiv">
					<input type="submit" style="font-family: IBM Plex Sans KR;"
						class="btn btn-primary" id="submitButton" value="등록">
				</div>
				<br>
			</form>
		</div>
	</div>
</body>
</html>