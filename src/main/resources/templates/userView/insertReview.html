<!DOCTYPE html>
<html lang="ko" xmlns:th="http://thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>

<link rel="stylesheet" th:href="@{/css/mypageViewCss/mypageCss.css}">
<link rel="stylesheet"
	th:href="@{/css/kakaoMapCss/kakaoMapContents.css}">

<!-- jQuery -->
<script th:src="@{/js/jquery-3.6.0.min.js}"></script>
<script>
	
</script>
<script
	src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="text/javascript">
	$(document).on('click', '#point1', drawStars);
	$(document).on('click', '#point2', drawStars);
	$(document).on('click', '#point3', drawStars);
	$(document).on('click', '#point4', drawStars);
	$(document).on('click', '#point5', drawStars);

	let path = '[[@{/images/}]]';
		
	//별 채워주고 html상에 표기하는 함수
	function drawStars(){
		let starImg = '';
		let dataPoint = parseInt($(this).attr('data-point'));
		let dataActivated = parseInt($(this).attr('data-activated'));
		
		switch(dataActivated){
		case 0 : 
			for(let i = 1; i <= 5; i++){
				if( i < dataPoint ){
					starImg += '<img id="point' + i + '" class="p-1" src="' +
								path + 'star_full.png" data-point="' + i + 
								'" data-activated="0" style="width:2.8rem;" alt="별표시" onclick="drawStars">';
				} else if(i == dataPoint){
					starImg += '<img id="point' + i + '" class="p-1" src="' +
								path + 'star_full.png" data-point="' + i + 
								'" data-activated="1" style="width:2.8rem;" alt="별표시" onclick="drawStars">';
				}
					else {
					starImg += '<img id="point' + i + '" class="p-1" src="' +
								path + 'star_none.png" data-point="' + i + 
								'" data-activated="0" style="width:2.8rem;" alt="별표시" onclick="drawStars">';
				}
			}
			$('#starPoint').html(starImg);
			break;
		
		case 1 : 
			for(let i = 1; i <= 5; i++){
				starImg += '<img id="point' + i + '" class="p-1" src="' +
							path + 'star_none.png" data-point="' + i + '" data-activated="0" style="width:2.8rem;" alt="별표시" onclick="drawStars">';
			}
			$('#starPoint').html(starImg);
			break;
		}
	}
	
	
</script>

<title>리뷰 입력 하기</title>
</head>
<body>
	<!-- 별점주기(id가 꼭 필요할까?) -->
	<div id="starPoint" class="d-flex justify-content-center">
		<img id="point1" class="p-1" th:src="@{/images/star_none.png}" data-point="1" data-activated="0" style="width:2.8rem;" alt="별표시">
		<img id="point2" class="p-1" th:src="@{/images/star_none.png}" data-point="2" data-activated="0" style="width:2.8rem;" alt="별표시">
		<img id="point3" class="p-1" th:src="@{/images/star_none.png}" data-point="3" data-activated="0" style="width:2.8rem;" alt="별표시">
		<img id="point4" class="p-1" th:src="@{/images/star_none.png}" data-point="4" data-activated="0" style="width:2.8rem;" alt="별표시">
		<img id="point5" class="p-1" th:src="@{/images/star_none.png}" data-point="5" data-activated="0" style="width:2.8rem;" alt="별표시">
	</div>
					
</body>
</html>